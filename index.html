<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Drum MIDI Visualizer</title>
  <!-- Webmidi -->
  <script src="https://cdn.jsdelivr.net/npm/webmidi@latest/dist/iife/webmidi.iife.js"></script>

  <!-- Space Mono Font -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Space+Mono:wght@400;700&display=swap" rel="stylesheet">

  <link rel="stylesheet" type="text/css" href="app.css">
</head>

<body>
  <div id="top">
    <div id="topDevice">
      <h3>MIDI Device</h3>
      <label for="deviceSelect">Device:</label>
      <select id="deviceSelect" title="Select the device for MIDI note input">
        <option value="defaultOption">
          &lt;Select an Input device&gt;
        </option>
      </select>
      <br>
      <label for="channelSelect">Channel:</label>
      <select id="channelSelect" title="Select the channel for MIDI note input">
        <option value="0" selected>All Channels</option>
        <option value="1">1</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5</option>
        <option value="6">6</option>
        <option value="7">7</option>
        <option value="8">8</option>
        <option value="9">9</option>
        <option value="10">10</option>
        <option value="11">11</option>
        <option value="12">12</option>
        <option value="13">13</option>
        <option value="14">14</option>
        <option value="15">15</option>
        <option value="16">16</option>
      </select>
    </div>

    <div id="topMetronome">
      <h3>Metronome</h3>
      <button type="button" id="tempoDec1" title="Decrease tempo by 1 bpm">-1</button>
      <button type="button" id="tempoDec5" title="Decrease tempo by 5 bpm">-5</button>
      <button type="button" id="tempoDec10" title="Decrease tempo by 10 bpm">-10</button>
      <input type="number" id="tempo">
      <button type="button" id="tempoInc10" title="Increase tempo by 10 bpm">+10</button>
      <button type="button" id="tempoInc5" title="Increase tempo by 5 bpm">+5</button>
      <button type="button" id="tempoInc1" title="Increase tempo by 1 bpm">+1</button>
      <select id="metronomeSubdivision" title="Select metronome subdivision">
        <option value="4" selected>Qtr</option>
        <option value="8">8th</option>
        <option value="12">8th trp</option>
        <option value="16">16th</option>
      </select>
      <br>
      <button type="button" id="playButton" title="Start metronome">Play</button>
      <button type="button" id="sync" title="Re-sync metronome and visual grid">Sync</button>
    </div>

    <div id="topGrid">
      <h3>Grid Options</h3>
      <label for="measures">Measures:</label>
      <select id="measures" title="How many measures before repeat">
        <option value="1">1</option>
        <option value="2" selected>2</option>
        <option value="4">4</option>
      </select>
      <label for="meter">Meter:</label>
      <select id="meter" title="Beats in a measure">
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4" selected>4</option>
        <option value="5">5</option>
        <option value="6">6</option>
        <option value="7">7</option>
        <option value="8">8</option>
      </select>
      <br>
      <label for="gridSubdivision">Subs:</label>
      <select id="gridSubdivision" title="Select grid subdivision">
        <option value="4" selected>Qtr</option>
        <option value="8">8th</option>
        <option value="12">8th trp</option>
        <option value="16">16th</option>
      </select>
      <br>
      <label for="noteWidth">Note length:</label>
      <select id="noteWidth" title="Length of notes displayed on the grid">
        <option value="8">1/8th</option>
        <option value="16" selected>1/16th</option>
        <option value="32">1/32nd</option>
      </select>
    </div>

  </div>
  <div id="main">
    <div id="mainLeft"></div>
    <div id="mainRight">
      <canvas id="staticGrid" width="1200" height="600"></canvas>
      <canvas id="indicator" width="1200" height="600"></canvas>
      <canvas id="grid" width="1200" height="600"></canvas>
    </div>
  </div>
  <script src="monkeypatch.js"></script>
  <script src="metronome.js"></script>
  <script src="config.js"></script>
  <script src="utils.js"></script>
  <script src="main.js"></script>
</body>

</html>